const translations = {
  et: {
    brand: "HääMekk",
    navMeist: "Meist",
    navTooted: "Tooted",
    navOsta: "Kust osta",
    aboutTitle: "Meist",
    aboutText: "Häämekk on Eesti kalaturu liider rohkem kui 20 aastat. Meil on oma tootmine ja meie tooted on saadaval kõigis juhtivates jaekaubanduskettides ja HoReCa-sektoris.",
    aboutDetail: "Meie tooted pärinevad hoolikalt valitud tarnijatelt Norrast, Soomest ja Taanist, tagades alati kõrgeima kvaliteedi ja konkurentsivõimelised hinnad. Mugavuse huvides pakume temperatuurikontrolliga tarnet kuuel päeval nädalas.",
    icon1: "20+ aastat kogemust",
    icon2: "Värskus ja kvaliteet",
    icon3: "Usaldusväärne HoReCa partner",
    icon4: "Sertifitseeritud oma tootmine",
    icon5: "Kiire tarne",
    sectionTooted: "Tooted",
    sectionOsta: "Kust osta",
    products: [
      { title: "Jahutatud kalafileed", desc: "Värske lõhe, forell ja teised fileed valitud kvaliteediga." },
      { title: "Forelli- ja lõhemari", desc: "Valik kvaliteetset marja – nii jahutatud kui ka pastöriseeritud." },
      { title: "Suitsutooted", desc: "Külm- ja kuumsuitsutatud lõhe ning muud kalatooted." },
      { title: "Muud kalatooted", desc: "Kalapulgad, pastad, vürtsitatud viilud ja muu eripakkumine." }
    ],
    buyTitles: ["Telli veebist", "Baltijaama turg", "Jaeketid"],
    buyDetails: [
      "Värske kala otse sinuni",
      "Kopli 1, Tallinn\nAvatud: E–P 9:00–19:00, (alates 16.05.2025)",
      "Selver, Prisma, Rimi, Maxima, Stockmann jm."
    ],
    contact: {
      email: "info@haamekk.ee",
      phone: "+372 5594 0480",
      address: "Tallinn, Eesti"
    },
    footer: "© 2025 HääMekk. Kõik õigused kaitstud.",
    meta: {
      title: "HääMekk – Värske kala ja kvaliteetsed kalatooted Eestis",
      description: "HääMekk - Eesti juhtiv kalatoodete tootja. Värske kala, suitsutooted ja mereannid."
    }
  },
  en: {
    brand: "HääMekk",
    navMeist: "About",
    navTooted: "Products",
    navOsta: "Where to Buy",
    aboutTitle: "About",
    aboutText: "Häämekk has been a leader in the Estonian seafood market for over 20 years. We operate our own production and our products are available in all major retail chains and the HoReCa sector.",
    aboutDetail: "We source our products from carefully selected suppliers in Norway, Finland, and Denmark, ensuring the highest quality and competitive prices. For your convenience, we offer temperature-controlled delivery six days a week.",
    icon1: "20+ years of experience",
    icon2: "Freshness and quality",
    icon3: "Trusted HoReCa partner",
    icon4: "Certified own production",
    icon5: "Fast delivery",
    sectionTooted: "Products",
    sectionOsta: "Where to Buy",
    products: [
      { title: "Chilled Fish Fillets", desc: "Fresh salmon, trout, and other fillets of selected quality." },
      { title: "Trout & Salmon Roe", desc: "Selection of high-quality roe — both chilled and pasteurized." },
      { title: "Smoked Products", desc: "Cold and hot smoked salmon and other seafood." },
      { title: "Other Seafood", desc: "Fish sticks, spreads, marinated slices, and specials." }
    ],
    buyTitles: ["Order Online", "Baltic Station Market", "Retail Chains"],
    buyDetails: [
      "Fresh fish delivered to your door",
      "Kopli 1, Tallinn\nOpen: Mon–Sun 9:00–19:00, (starting from 16.05.2025)",
      "Selver, Prisma, Rimi, Maxima, Stockmann and others"
    ],
    contact: {
      email: "info@haamekk.ee",
      phone: "+372 5594 0480",
      address: "Tallinn, Estonia"
    },
    footer: "© 2025 HääMekk. All rights reserved.",
    meta: {
      title: "HääMekk – Fresh Fish and Seafood Products in Estonia",
      description: "HääMekk is Estonia's leading seafood producer. Premium salmon, smoked fish, and roe in stores and online."
    }
  },
  ru: {
    brand: "HääMekk",
    navMeist: "О нас",
    navTooted: "Продукция",
    navOsta: "Где купить",
    aboutTitle: "О нас",
    aboutText: "Häämekk — лидер на рынке морепродуктов Эстонии более 20 лет. У нас собственное производство, и продукция доступна в ведущих сетях и секторе HoReCa.",
    aboutDetail: "Продукция поступает от тщательно отобранных поставщиков из Норвегии, Финляндии и Дании, обеспечивая высокое качество по конкурентным ценам. Также предлагаем доставку с температурным контролем 6 дней в неделю.",
    icon1: "20+ лет опыта",
    icon2: "Свежесть и качество",
    icon3: "Надежный партнер HoReCa",
    icon4: "Сертифицированное производство",
    icon5: "Быстрая доставка",
    sectionTooted: "Продукция",
    sectionOsta: "Где купить",
    products: [
      { title: "Охлажденные филе", desc: "Свежие филе лосося, форели и других сортов рыбы." },
      { title: "Икра форели и лосося", desc: "Качественная икра: охлажденная и пастеризованная." },
      { title: "Копченая рыба", desc: "Холодного и горячего копчения лосось и морепродукты." },
      { title: "Прочие морепродукты", desc: "Рыбные палочки, паштеты, маринованные ломтики и другое." }
    ],
    buyTitles: ["Онлайн заказ", "Рынок Балтийского вокзала", "Сети магазинов"],
    buyDetails: [
      "Свежая рыба с доставкой на дом",
      "Копли 1, Таллин\nОткрыто: Пн–Вс 9:00–19:00, (начиная с 16.05.2025)",
      "Selver, Prisma, Rimi, Maxima, Stockmann и другие"
    ],
    contact: {
      email: "info@haamekk.ee",
      phone: "+372 5594 0480",
      address: "Таллин, Эстония"
    },
    footer: "© 2025 HääMekk. Все права защищены.",
    meta: {
      title: "HääMekk – Свежая рыба и морепродукты в Эстонии",
      description: "Свежий лосось, икра, копченая рыба и другие продукты – в сетях магазинов и онлайн."
    }
  }
};

function switchLanguage(lang) {
  const t = translations[lang];

  // Update HTML lang attribute
  document.documentElement.lang = lang;

  // SEO meta updates
  document.title = t.meta.title;
  const descTag = document.querySelector('meta[name="description"]');
  if (descTag) descTag.setAttribute("content", t.meta.description);

  // Header and nav
  document.querySelector(".brand-name").textContent = t.brand;
  document.querySelector('a[href="#meist"]').textContent = t.navMeist;
  document.querySelector('a[href="#tooted"]').textContent = t.navTooted;
  document.querySelector('a[href="#osta"]').textContent = t.navOsta;

  // Meist section
  document.querySelector("#meist h2").textContent = t.aboutTitle;
  document.querySelector("#about-text").textContent = t.aboutText;
  document.querySelector(".about-detail").textContent = t.aboutDetail;

  const iconTexts = document.querySelectorAll(".icon-box p");
  iconTexts[0].textContent = t.icon1;
  iconTexts[1].textContent = t.icon2;
  iconTexts[2].textContent = t.icon3;
  iconTexts[3].textContent = t.icon4;
  iconTexts[4].textContent = t.icon5;

  // Tooted
  document.querySelector("#tooted h2").textContent = t.sectionTooted;
  const productCards = document.querySelectorAll(".product-card");
  productCards.forEach((card, i) => {
    const title = card.querySelector("h3");
    const desc = card.querySelector("p");
    if (t.products[i]) {
      title.textContent = t.products[i].title;
      desc.textContent = t.products[i].desc;
    }
  });

  // Kust osta
  document.querySelector("#osta h2").textContent = t.sectionOsta;
  const buyCards = document.querySelectorAll(".buy-card");
  buyCards.forEach((card, i) => {
    const h3 = card.querySelector("h3");
    const pTags = card.querySelectorAll("p");
    if (h3 && t.buyTitles[i]) h3.textContent = t.buyTitles[i];
    if (pTags.length && t.buyDetails[i]) {
      const lines = t.buyDetails[i].split("\n");
      pTags.forEach((p, j) => {
        p.textContent = lines[j] || "";
      });
    }
  });

  // Contact info
  const contactSection = document.querySelector("#kontakt-andmed");
  if (contactSection) {
    const pTags = contactSection.querySelectorAll("p");
    if (pTags[0]) pTags[0].innerHTML = `<strong>Email:</strong> ${t.contact.email}`;
    if (pTags[1]) pTags[1].innerHTML = `<strong>Telefon:</strong> ${t.contact.phone}`;
    if (pTags[2]) pTags[2].innerHTML = `<strong>Aadress:</strong> ${t.contact.address}`;
  }

  // Footer
  document.querySelector("footer p").textContent = t.footer;
}

// Menu toggle
document.addEventListener("DOMContentLoaded", () => {
  const menuToggle = document.querySelector(".dropdown-toggle");
  const menu = document.querySelector(".dropdown-menu");

  if (menuToggle && menu) {
    menuToggle.addEventListener("click", () => {
      menu.style.display = menu.style.display === "flex" ? "none" : "flex";
    });

    document.addEventListener("click", (e) => {
      if (!menu.contains(e.target) && !menuToggle.contains(e.target)) {
        menu.style.display = "none";
      }
    });
  }
});
